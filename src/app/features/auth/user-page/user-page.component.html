<app-header title="Profile" [backBtn]="true"></app-header>
{{ user$|async|json }} 
<ion-content>
    <ion-grid>
        <ion-row color="primary" justify-content-center>
          <ion-col align-self-center size-md="6" size-lg="5" size-xs="12">
            <div text-center>
              <h3>DÃ©tail de l'utilisateur</h3>
            </div>
          </ion-col>
        </ion-row>
        <ion-row *ngIf="(user$|async) as user; else noData" color="primary" justify-content-center>
          <ion-col>
              <ion-card>
                <ion-card-header>
                  <ion-card-title color="primary">{{ user?.fullname }}</ion-card-title> 
                </ion-card-header>
                <ion-card-content>
                  <ion-row>
                    <ion-col>
                      <ion-text>
                          email : {{ user?.email }}
                      </ion-text>
                    </ion-col>

                    <ion-col>
                        <ion-text>
                            Dernier connexion : {{ user?.lastLogin }} 
                        </ion-text>
                    </ion-col>   
                  </ion-row>
                  
                  <ion-row>
                    <ion-col>
                      <ion-item><h2>Formations</h2></ion-item>
                    </ion-col>
                  </ion-row>


                  <ion-button slot="start" routerLink="../../../formations">Retour</ion-button>
                  
                  <ion-button slot="end" color="danger" tappable routerLink="../../../usermod/{{ user?._id }}">
                      <ion-icon slot="icon-only" name="create"></ion-icon>
                  </ion-button>

                </ion-card-content>
              </ion-card>
            </ion-col>

        </ion-row>

{{ data.user.admin }}
        <ng-template #noData>
            <ion-row>
              <ion-col>
                <ion-text>No user found...</ion-text>
              </ion-col>
            </ion-row>
        </ng-template>
    </ion-grid>
  
</ion-content>

